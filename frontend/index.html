<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugging Agents Research Platform</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/plotly.js@2.24.0/dist/plotly.min.js" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --dark-bg: #1a1a1a;
            --card-bg: #2d2d2d;
            --text-light: #ecf0f1;
        }

        body {
            background: linear-gradient(135deg, var(--dark-bg) 0%, #2c3e50 100%);
            color: var(--text-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
        }

        .navbar {
            background: rgba(44, 62, 80, 0.95) !important;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(52, 152, 219, 0.3);
        }

        .agent-card {
            background: var(--card-bg);
            border: 1px solid rgba(52, 152, 219, 0.3);
            border-radius: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .agent-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.3);
            border-color: var(--secondary-color);
        }

        .agent-card.active {
            border-color: var(--success-color);
            box-shadow: 0 0 20px rgba(39, 174, 96, 0.3);
        }

        .agent-status {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--warning-color);
        }

        .agent-status.online { background: var(--success-color); }
        .agent-status.busy { background: var(--accent-color); }
        .agent-status.offline { background: #7f8c8d; }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .metric-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(52, 152, 219, 0.2);
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .progress-ring {
            width: 60px;
            height: 60px;
            margin: 0 auto;
        }

        .progress-ring circle {
            fill: transparent;
            stroke: var(--secondary-color);
            stroke-width: 4;
            stroke-dasharray: 157;
            stroke-dashoffset: 157;
            transition: stroke-dashoffset 0.3s ease;
        }

        .chart-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        .agent-log {
            background: #1e1e1e;
            border-radius: 10px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 5px;
        }

        .log-info { background: rgba(52, 152, 219, 0.1); }
        .log-success { background: rgba(39, 174, 96, 0.1); }
        .log-warning { background: rgba(243, 156, 18, 0.1); }
        .log-error { background: rgba(231, 76, 60, 0.1); }

        .btn-agent {
            background: linear-gradient(45deg, var(--secondary-color), #5dade2);
            border: none;
            border-radius: 25px;
            padding: 10px 25px;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-agent:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .sidebar {
            background: var(--card-bg);
            min-height: 100vh;
            border-right: 1px solid rgba(52, 152, 219, 0.3);
        }

        .nav-link {
            color: var(--text-light) !important;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 5px 0;
            transition: all 0.3s ease;
        }

        .nav-link:hover, .nav-link.active {
            background: rgba(52, 152, 219, 0.2);
            color: var(--secondary-color) !important;
        }

        .task-queue {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
        }

        .task-item {
            background: rgba(52, 152, 219, 0.1);
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            border-left: 4px solid var(--secondary-color);
        }

        .floating-action {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .agent-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--secondary-color), #5dade2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            margin: 0 auto 15px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <i class="fas fa-robot me-2"></i>
                Debugging Agents Platform
            </a>
            <div class="navbar-nav ms-auto">
                <span class="navbar-text me-3">
                    <i class="fas fa-circle text-success me-1"></i>
                    System Online
                </span>
                <button class="btn btn-outline-light" onclick="toggleFullscreen()">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 sidebar">
                <div class="p-3">
                    <h5 class="text-center mb-4">
                        <i class="fas fa-tachometer-alt me-2"></i>
                        Control Panel
                    </h5>
                    
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#dashboard" onclick="showSection('dashboard')">
                                <i class="fas fa-chart-line me-2"></i>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#agents" onclick="showSection('agents')">
                                <i class="fas fa-robot me-2"></i>
                                Agents
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#analysis" onclick="showSection('analysis')">
                                <i class="fas fa-chart-bar me-2"></i>
                                Analysis
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#reports" onclick="showSection('reports')">
                                <i class="fas fa-file-alt me-2"></i>
                                Reports
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#settings" onclick="showSection('settings')">
                                <i class="fas fa-cog me-2"></i>
                                Settings
                            </a>
                        </li>
                    </ul>

                    <!-- Task Queue -->
                    <div class="task-queue mt-4">
                        <h6><i class="fas fa-tasks me-2"></i>Task Queue</h6>
                        <div id="taskQueue">
                            <div class="task-item">
                                <div class="d-flex justify-content-between">
                                    <span>Data Processing</span>
                                    <span class="badge bg-primary">In Progress</span>
                                </div>
                                <small class="text-muted">Agent: DataProcessor</small>
                            </div>
                            <div class="task-item">
                                <div class="d-flex justify-content-between">
                                    <span>Visualization Update</span>
                                    <span class="badge bg-warning">Queued</span>
                                </div>
                                <small class="text-muted">Agent: Visualizer</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-9">
                <!-- Dashboard Section -->
                <div id="dashboard" class="content-section">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h2><i class="fas fa-tachometer-alt me-2"></i>Dashboard</h2>
                        <button class="btn btn-agent" onclick="refreshDashboard()">
                            <i class="fas fa-sync-alt me-2"></i>Refresh
                        </button>
                    </div>

                    <!-- Metrics Cards -->
                    <div class="dashboard-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="totalSections">24</div>
                            <div>Thesis Sections</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="totalPapers">40</div>
                            <div>Research Papers</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="activeAgents">4</div>
                            <div>Active Agents</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="completedTasks">12</div>
                            <div>Completed Tasks</div>
                        </div>
                    </div>

                    <!-- Charts -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="chart-container">
                                <h5>Agent Performance</h5>
                                <div id="agentPerformanceChart"></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="chart-container">
                                <h5>Research Trends</h5>
                                <div id="researchTrendsChart"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Agent Logs -->
                    <div class="chart-container">
                        <h5><i class="fas fa-terminal me-2"></i>Agent Activity Log</h5>
                        <div class="agent-log" id="agentLog">
                            <div class="log-entry log-info">
                                <span class="text-muted">[2024-01-15 10:30:15]</span>
                                DataAgent: Processing thesis annotations...
                            </div>
                            <div class="log-entry log-success">
                                <span class="text-muted">[2024-01-15 10:30:20]</span>
                                AnalysisAgent: Generated 5 visualizations
                            </div>
                            <div class="log-entry log-warning">
                                <span class="text-muted">[2024-01-15 10:30:25]</span>
                                VisualizerAgent: Updating dashboard charts
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Agents Section -->
                <div id="agents" class="content-section" style="display: none;">
                    <h2><i class="fas fa-robot me-2"></i>Multi-Agent System</h2>
                    
                    <div class="row">
                        <!-- Data Agent -->
                        <div class="col-md-6 mb-4">
                            <div class="agent-card" onclick="uploadCSV()">
                                <div class="agent-status online"></div>
                                <div class="p-4 text-center">
                                    <div class="agent-avatar">
                                        <i class="fas fa-database"></i>
                                    </div>
                                    <h5>Data Agent</h5>
                                    <p class="text-muted">Processes and cleans research data</p>
                                    <div class="progress-ring">
                                        <svg width="60" height="60">
                                            <circle cx="30" cy="30" r="25" stroke="#34495e" stroke-width="4" fill="none"/>
                                            <circle cx="30" cy="30" r="25" stroke="#3498db" stroke-width="4" fill="none" 
                                                    stroke-dasharray="157" stroke-dashoffset="31.4" transform="rotate(-90 30 30)"/>
                                        </svg>
                                    </div>
                                    <small class="text-muted mt-2 d-block">80% Complete</small>
                                </div>
                            </div>
                        </div>

                        <!-- Analysis Agent -->
                        <div class="col-md-6 mb-4">
                            <div class="agent-card" onclick="selectAgent('analysis')">
                                <div class="agent-status busy"></div>
                                <div class="p-4 text-center">
                                    <div class="agent-avatar">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <h5>Analysis Agent</h5>
                                    <p class="text-muted">Performs statistical analysis</p>
                                    <div class="progress-ring">
                                        <svg width="60" height="60">
                                            <circle cx="30" cy="30" r="25" stroke="#34495e" stroke-width="4" fill="none"/>
                                            <circle cx="30" cy="30" r="25" stroke="#e74c3c" stroke-width="4" fill="none" 
                                                    stroke-dasharray="157" stroke-dashoffset="47.1" transform="rotate(-90 30 30)"/>
                                        </svg>
                                    </div>
                                    <small class="text-muted mt-2 d-block">70% Complete</small>
                                </div>
                            </div>
                        </div>

                        <!-- Visualization Agent -->
                        <div class="col-md-6 mb-4">
                            <div class="agent-card" onclick="selectAgent('visualization')">
                                <div class="agent-status online"></div>
                                <div class="p-4 text-center">
                                    <div class="agent-avatar">
                                        <i class="fas fa-chart-bar"></i>
                                    </div>
                                    <h5>Visualization Agent</h5>
                                    <p class="text-muted">Creates interactive charts</p>
                                    <div class="progress-ring">
                                        <svg width="60" height="60">
                                            <circle cx="30" cy="30" r="25" stroke="#34495e" stroke-width="4" fill="none"/>
                                            <circle cx="30" cy="30" r="25" stroke="#27ae60" stroke-width="4" fill="none" 
                                                    stroke-dasharray="157" stroke-dashoffset="15.7" transform="rotate(-90 30 30)"/>
                                        </svg>
                                    </div>
                                    <small class="text-muted mt-2 d-block">90% Complete</small>
                                </div>
                            </div>
                        </div>

                        <!-- Report Agent -->
                        <div class="col-md-6 mb-4">
                            <div class="agent-card" onclick="selectAgent('report')">
                                <div class="agent-status offline"></div>
                                <div class="p-4 text-center">
                                    <div class="agent-avatar">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <h5>Report Agent</h5>
                                    <p class="text-muted">Generates comprehensive reports</p>
                                    <div class="progress-ring">
                                        <svg width="60" height="60">
                                            <circle cx="30" cy="30" r="25" stroke="#34495e" stroke-width="4" fill="none"/>
                                            <circle cx="30" cy="30" r="25" stroke="#f39c12" stroke-width="4" fill="none" 
                                                    stroke-dasharray="157" stroke-dashoffset="78.5" transform="rotate(-90 30 30)"/>
                                        </svg>
                                    </div>
                                    <small class="text-muted mt-2 d-block">50% Complete</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Agent Details Panel -->
                    <div class="chart-container" id="agentDetails" style="display: none;">
                        <h5 id="agentDetailsTitle">Agent Details</h5>
                        <div id="agentDetailsContent"></div>
                    </div>
                </div>

                <!-- Analysis Section -->
                <div id="analysis" class="content-section" style="display: none;">
                    <h2><i class="fas fa-chart-bar me-2"></i>Analysis Results</h2>
                    <div class="chart-container">
                        <div id="analysisCharts"></div>
                    </div>
                </div>

                <!-- Reports Section -->
                <div id="reports" class="content-section" style="display: none;">
                    <h2><i class="fas fa-file-alt me-2"></i>Generated Reports</h2>
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title">Thesis Structure Report</h5>
                                    <p class="card-text">Comprehensive analysis of thesis sections</p>
                                    <button class="btn btn-agent">Download PDF</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title">Research Trends Report</h5>
                                    <p class="card-text">Analysis of academic paper trends</p>
                                    <button class="btn btn-agent">Download PDF</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title">Agent Performance Report</h5>
                                    <p class="card-text">Multi-agent system performance metrics</p>
                                    <button class="btn btn-agent">Download PDF</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Section -->
                <div id="settings" class="content-section" style="display: none;">
                    <h2><i class="fas fa-cog me-2"></i>Settings</h2>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title">Agent Configuration</h5>
                                    <div class="mb-3">
                                        <label class="form-label">Data Processing Interval</label>
                                        <select class="form-select bg-dark text-light">
                                            <option>Every 5 minutes</option>
                                            <option>Every 10 minutes</option>
                                            <option>Every 30 minutes</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Visualization Update Frequency</label>
                                        <select class="form-select bg-dark text-light">
                                            <option>Real-time</option>
                                            <option>Every minute</option>
                                            <option>Every 5 minutes</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card bg-dark">
                                <div class="card-body">
                                    <h5 class="card-title">System Preferences</h5>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">Enable Real-time Updates</label>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" checked>
                                        <label class="form-check-label">Auto-save Reports</label>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox">
                                        <label class="form-check-label">Email Notifications</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="floating-action">
        <button class="btn btn-agent btn-lg pulse" onclick="startAgentWorkflow()">
            <i class="fas fa-play me-2"></i>
            Start Analysis
        </button>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="js/agents.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
